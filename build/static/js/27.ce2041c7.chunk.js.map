{"version":3,"sources":["components/Breadcrumbs.js","components/HeaderBreadcrumbs.js","components/InputStyle.js","components/SearchNotFound.js","components/skeleton/SkeletonPost.js","components/skeleton/SkeletonProduct.js","components/skeleton/SkeletonPostItem.js","components/skeleton/SkeletonProductItem.js","components/skeleton/SkeletonKanbanColumn.js","components/skeleton/SkeletonMailSidebarItem.js","components/skeleton/SkeletonConversationItem.js","components/LightboxModal.js","components/EmojiPicker.js","utils/getFileFormat.js","utils/uuidv4.js","sections/@dashboard/chat/ChatRoomAttachment.js","sections/@dashboard/chat/ChatRoomOneParticipant.js","sections/@dashboard/chat/ChatRoomPopup.js","sections/@dashboard/chat/ChatRoomGroupParticipant.js","sections/@dashboard/chat/ChatRoom.js","sections/@dashboard/chat/ChatMessageItem.js","sections/@dashboard/chat/ChatMessageList.js","sections/@dashboard/chat/ChatHeaderDetail.js","sections/@dashboard/chat/ChatMessageInput.js","sections/@dashboard/chat/ChatHeaderCompose.js","sections/@dashboard/chat/ChatWindow.js","sections/@dashboard/chat/ChatAccount.js","sections/@dashboard/chat/ChatSearchResults.js","sections/@dashboard/chat/ChatContactSearch.js","sections/@dashboard/chat/ChatConversationItem.js","sections/@dashboard/chat/ChatConversationList.js","sections/@dashboard/chat/ChatSidebar.js","pages/dashboard/Chat.js"],"names":["Breadcrumbs","links","activeLast","other","currentLink","length","name","listDefault","map","link","LinkItem","listActiveLast","Typography","variant","sx","maxWidth","overflow","whiteSpace","color","textOverflow","separator","Box","component","width","height","borderRadius","bgcolor","href","icon","Link","RouterLink","to","lineHeight","display","alignItems","mr","HeaderBreadcrumbs","action","heading","moreLink","mb","flexGrow","gutterBottom","flexShrink","mt","isString","target","rel","noWrap","InputStyle","styled","TextField","shouldForwardProp","prop","stretchStart","theme","transition","transitions","create","easing","easeInOut","duration","shorter","boxShadow","customShadows","z12","breakpoints","up","borderWidth","borderColor","palette","grey","SearchNotFound","searchQuery","align","SkeletonPost","Skeleton","ml","SkeletonProduct","Grid","container","spacing","item","xs","md","lg","paddingTop","SkeletonPostItem","sm","mx","SkeletonProductItem","Card","Stack","p","direction","justifyContent","SkeletonKanbanColumn","gap","gridTemplateColumns","Array","_","index","Paper","SkeletonMailSidebarItem","px","py","SkeletonConversationItem","LightboxModalStyles","useTheme","isRTL","ICON_COLOR","replace","getIcon","Icon","opacity","backgroundImage","backgroundColor","content","styles","alpha","padding","marginLeft","outline","right","left","LightboxModal","images","photoIndex","setPhotoIndex","isOpen","useEffect","document","body","style","toolbarButtons","animationDuration","nextSrc","prevSrc","onMovePrevRequest","onMoveNextRequest","reactModalStyle","overlay","zIndex","RootStyle","position","PickerStyle","bottom","z20","Number","shape","border","background","paper","text","disabled","primary","divider","typography","body2","fill","subtitle2","cssStyles","bgBlur","selected","secondary","EmojiPicker","emojiPicker","value","setValue","alignRight","useState","emojiPickerState","SetEmojiPicker","main","title","emoji","onSelect","native","onClickAway","size","onClick","event","preventDefault","FORMAT_IMG","FORMAT_VIDEO","FORMAT_WORD","FORMAT_EXCEL","FORMAT_POWERPOINT","FORMAT_PDF","FORMAT_PHOTOSHOP","FORMAT_ILLUSTRATOR","getFileType","fileUrl","split","pop","getFileName","substring","lastIndexOf","getFileFullName","src","alt","getFileThumb","thumb","format","includes","getFileFormat","uuidv4","c","r","Math","random","toString","flexDirection","paddingBottom","FileItemStyle","marginTop","FileThumbStyle","CollapseButtonStyle","Button","overline","ChatRoomAttachment","conversation","isCollapse","onCollapse","totalAttachment","uniq","flatten","messages","attachments","fullWidth","endIcon","Iconify","Divider","Scrollbar","Collapse","in","file","AttachmentItem","id","fDateTime","createdAt","RowStyle","margin","RowIconStyle","marginRight","RowTextStyle","wordWrap","ChatRoomOneParticipant","participants","participant","undefined","pt","pb","Avatar","avatar","textAlign","address","phone","email","ChatRoomPopup","onClose","open","DialogContent","paragraph","ChatRoomGroupParticipant","selectUserId","onShowPopupUserInfo","disableRipple","HEIGHT","List","disablePadding","Participant","onShowPopup","onClosePopup","status","ListItemButton","ListItemAvatar","BadgeStatus","ListItemText","primaryTypographyProps","secondaryTypographyProps","ToggleButtonStyle","props","IconButton","top","z8","borderRight","neutral","SIDEBAR_WIDTH","ChatRoom","openSidebar","setOpenSidebar","showInfo","setShowInfo","selectUser","setSelectUser","showAttachment","setShowAttachment","showParticipants","setShowParticipants","isDesktop","useResponsive","isGroup","handleOpenSidebar","handleCloseSidebar","renderContent","participantId","prev","Drawer","anchor","ModalProps","keepMounted","marginBottom","ContentStyle","InfoStyle","ChatMessageItem","message","onOpenLightbox","sender","find","senderId","senderDetails","type","isMe","isImage","contentType","firstName","formatDistanceToNowStrict","Date","addSuffix","Image","cursor","ChatMessageList","scrollRef","useRef","openLightbox","setOpenLightbox","selectedImage","setSelectedImage","current","scrollTop","scrollHeight","imagesLightbox","filter","handleOpenLightbox","url","findIndex","scrollableNodeProps","ref","mainSrc","onCloseRequest","minHeight","ChatHeaderDetail","GroupAvatar","OneAvatar","capitalCase","fToNow","lastActivity","AvatarGroup","max","underline","paddingLeft","ChatMessageInput","conversationId","onSend","fileInputRef","setMessage","handleAttach","click","handleSend","messageId","Input","disableUnderline","onKeyUp","key","onChange","placeholder","startAdornment","InputAdornment","endAdornment","orientation","flexItem","AutocompleteStyle","minWidth","ChatHeaderCompose","contacts","recipients","onAddRecipients","query","setQuery","Autocomplete","multiple","disablePortal","popupIcon","noOptionsText","handleAddRecipients","onInputChange","options","getOptionLabel","recipient","renderOption","inputValue","matches","match","parts","parse","part","highlight","renderTags","getTagProps","Chip","label","renderInput","params","ChatWindow","dispatch","useDispatch","navigate","useNavigate","pathname","useLocation","conversationKey","useParams","useSelector","state","chat","activeConversationId","conversations","byId","unreadCount","conversationSelector","mode","displayParticipants","getDetails","a","getParticipants","getConversation","console","error","PATH_DASHBOARD","new","resetActiveConversation","markConversationAsRead","handleSendMessage","onSendMessage","Object","values","addRecipients","STATUS","ChatAccount","user","useAuth","setStatus","setOpen","ICON","MyAvatar","currentTarget","MenuPopover","Boolean","anchorEl","anchorOrigin","vertical","horizontal","transformOrigin","arrow","pr","pl","displayName","Tooltip","MenuItem","m","Select","option","ChatSearchResults","results","onSelectContact","isFound","result","ChatContactSearch","onFocus","ClickAwayListener","InputProps","AvatarWrapperStyle","ChatConversationItem","isSelected","isOpenSidebar","onSelectConversation","details","currentUserId","otherParticipants","displayNames","reduce","names","join","displayText","lastMessage","displayLastActivity","isUnread","isOnlineGroup","slice","className","fontSize","ChatConversationList","loading","allIds","otherParticipant","username","root","handleSelectConversation","contrastText","darker","ChatSidebar","setSearchQuery","searchResults","setSearchResults","isSearchFocused","setSearchFocused","displayResults","handleToggleSidebar","handleChangeSearch","axios","get","response","data","handleSearchSelect","transform","visibility","Chat","themeStretch","useSettings","getConversations","getContacts","Page","Container"],"mappings":"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","file":"static/js/27.ce2041c7.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\n// @mui\r\nimport { Box, Link, Typography, Breadcrumbs as MUIBreadcrumbs } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nBreadcrumbs.propTypes = {\r\n  activeLast: PropTypes.bool,\r\n  links: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default function Breadcrumbs({ links, activeLast = false, ...other }) {\r\n  const currentLink = links[links.length - 1].name;\r\n\r\n  const listDefault = links.map((link) => <LinkItem key={link.name} link={link} />);\r\n\r\n  const listActiveLast = links.map((link) => (\r\n    <div key={link.name}>\r\n      {link.name !== currentLink ? (\r\n        <LinkItem link={link} />\r\n      ) : (\r\n        <Typography\r\n          variant=\"body2\"\r\n          sx={{\r\n            maxWidth: 260,\r\n            overflow: 'hidden',\r\n            whiteSpace: 'nowrap',\r\n            color: 'text.disabled',\r\n            textOverflow: 'ellipsis',\r\n          }}\r\n        >\r\n          {currentLink}\r\n        </Typography>\r\n      )}\r\n    </div>\r\n  ));\r\n\r\n  return (\r\n    <MUIBreadcrumbs\r\n      separator={<Box component=\"span\" sx={{ width: 4, height: 4, borderRadius: '50%', bgcolor: 'text.disabled' }} />}\r\n      {...other}\r\n    >\r\n      {activeLast ? listDefault : listActiveLast}\r\n    </MUIBreadcrumbs>\r\n  );\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nLinkItem.propTypes = {\r\n  link: PropTypes.shape({\r\n    href: PropTypes.string,\r\n    icon: PropTypes.any,\r\n    name: PropTypes.string,\r\n  }),\r\n};\r\n\r\nfunction LinkItem({ link }) {\r\n  const { href, name, icon } = link;\r\n  return (\r\n    <Link\r\n      key={name}\r\n      variant=\"body2\"\r\n      component={RouterLink}\r\n      to={href || '#'}\r\n      sx={{\r\n        lineHeight: 2,\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        color: 'text.primary',\r\n        '& > div': { display: 'inherit' },\r\n      }}\r\n    >\r\n      {icon && <Box sx={{ mr: 1, '& svg': { width: 20, height: 20 } }}>{icon}</Box>}\r\n      {name}\r\n    </Link>\r\n  );\r\n}\r\n","import isString from 'lodash/isString';\r\nimport PropTypes from 'prop-types';\r\n// @mui\r\nimport { Box, Typography, Link } from '@mui/material';\r\n//\r\nimport Breadcrumbs from './Breadcrumbs';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nHeaderBreadcrumbs.propTypes = {\r\n  links: PropTypes.array,\r\n  action: PropTypes.node,\r\n  heading: PropTypes.string.isRequired,\r\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\r\n  sx: PropTypes.object,\r\n};\r\n\r\nexport default function HeaderBreadcrumbs({ links, action, heading, moreLink = '' || [], sx, ...other }) {\r\n  return (\r\n    <Box sx={{ mb: 5, ...sx }}>\r\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n        <Box sx={{ flexGrow: 1 }}>\r\n          <Typography variant=\"h4\" gutterBottom>\r\n            {heading}\r\n          </Typography>\r\n          <Breadcrumbs links={links} {...other} />\r\n        </Box>\r\n\r\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\r\n      </Box>\r\n\r\n      <Box sx={{ mt: 2 }}>\r\n        {isString(moreLink) ? (\r\n          <Link href={moreLink} target=\"_blank\" rel=\"noopener\" variant=\"body2\">\r\n            {moreLink}\r\n          </Link>\r\n        ) : (\r\n          moreLink.map((href) => (\r\n            <Link\r\n              noWrap\r\n              key={href}\r\n              href={href}\r\n              variant=\"body2\"\r\n              target=\"_blank\"\r\n              rel=\"noopener\"\r\n              sx={{ display: 'table' }}\r\n            >\r\n              {href}\r\n            </Link>\r\n          ))\r\n        )}\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { TextField } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst InputStyle = styled(TextField, {\r\n  shouldForwardProp: (prop) => prop !== 'stretchStart',\r\n})(({ stretchStart, theme }) => ({\r\n  '& .MuiOutlinedInput-root': {\r\n    transition: theme.transitions.create(['box-shadow', 'width'], {\r\n      easing: theme.transitions.easing.easeInOut,\r\n      duration: theme.transitions.duration.shorter,\r\n    }),\r\n    '&.Mui-focused': {\r\n      boxShadow: theme.customShadows.z12,\r\n    },\r\n    ...(stretchStart && {\r\n      width: stretchStart,\r\n      '&.Mui-focused': {\r\n        boxShadow: theme.customShadows.z12,\r\n        [theme.breakpoints.up('sm')]: {\r\n          width: stretchStart + 60,\r\n        },\r\n      },\r\n    }),\r\n  },\r\n  '& fieldset': {\r\n    borderWidth: `1px !important`,\r\n    borderColor: `${theme.palette.grey[500_32]} !important`,\r\n  },\r\n}));\r\n\r\nexport default InputStyle;\r\n","import PropTypes from 'prop-types';\r\nimport { Paper, Typography } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nSearchNotFound.propTypes = {\r\n  searchQuery: PropTypes.string,\r\n};\r\n\r\nexport default function SearchNotFound({ searchQuery = '', ...other }) {\r\n  return searchQuery ? (\r\n    <Paper {...other}>\r\n      <Typography gutterBottom align=\"center\" variant=\"subtitle1\">\r\n        Not found\r\n      </Typography>\r\n      <Typography variant=\"body2\" align=\"center\">\r\n        No results found for &nbsp;\r\n        <strong>&quot;{searchQuery}&quot;</strong>. Try checking for typos or using complete words.\r\n      </Typography>\r\n    </Paper>\r\n  ) : (\r\n    <Typography variant=\"body2\"> Please enter keywords</Typography>\r\n  );\r\n}\r\n","// @mui\r\nimport { Box, Skeleton } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SkeletonPost() {\r\n  return (\r\n    <>\r\n      <Skeleton width=\"100%\" height={560} variant=\"rectangular\" sx={{ borderRadius: 2 }} />\r\n      <Box sx={{ mt: 3, display: 'flex', alignItems: 'center' }}>\r\n        <Skeleton variant=\"circular\" width={64} height={64} />\r\n        <Box sx={{ flexGrow: 1, ml: 2 }}>\r\n          <Skeleton variant=\"text\" height={20} />\r\n          <Skeleton variant=\"text\" height={20} />\r\n          <Skeleton variant=\"text\" height={20} />\r\n        </Box>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n","// @mui\r\nimport { Grid, Skeleton } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SkeletonProduct() {\r\n  return (\r\n    <Grid container spacing={3}>\r\n      <Grid item xs={12} md={6} lg={7}>\r\n        <Skeleton variant=\"rectangular\" width=\"100%\" sx={{ paddingTop: '100%', borderRadius: 2 }} />\r\n      </Grid>\r\n      <Grid item xs={12} md={6} lg={5}>\r\n        <Skeleton variant=\"circular\" width={80} height={80} />\r\n        <Skeleton variant=\"text\" height={240} />\r\n        <Skeleton variant=\"text\" height={40} />\r\n        <Skeleton variant=\"text\" height={40} />\r\n        <Skeleton variant=\"text\" height={40} />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n","// @mui\r\nimport { Box, Skeleton, Grid } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SkeletonPostItem() {\r\n  return (\r\n    <Grid item xs={12} sm={6} md={3}>\r\n      <Skeleton variant=\"rectangular\" width=\"100%\" sx={{ height: 200, borderRadius: 2 }} />\r\n      <Box sx={{ display: 'flex', mt: 1.5 }}>\r\n        <Skeleton variant=\"circular\" sx={{ width: 40, height: 40 }} />\r\n        <Skeleton variant=\"text\" sx={{ mx: 1, flexGrow: 1 }} />\r\n      </Box>\r\n    </Grid>\r\n  );\r\n}\r\n","// @mui\r\nimport { Card, Skeleton, Stack } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SkeletonProductItem() {\r\n  return (\r\n    <Card>\r\n      <Skeleton variant=\"rectangular\" sx={{ paddingTop: '100%' }} />\r\n      <Stack spacing={2} sx={{ p: 3 }}>\r\n        <Skeleton variant=\"text\" sx={{ width: 0.5 }} />\r\n        <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\r\n          <Stack direction=\"row\">\r\n            <Skeleton variant=\"circular\" sx={{ width: 16, height: 16 }} />\r\n            <Skeleton variant=\"circular\" sx={{ width: 16, height: 16 }} />\r\n            <Skeleton variant=\"circular\" sx={{ width: 16, height: 16 }} />\r\n          </Stack>\r\n          <Skeleton variant=\"text\" sx={{ width: 40 }} />\r\n        </Stack>\r\n      </Stack>\r\n    </Card>\r\n  );\r\n}\r\n","// @mui\r\nimport { Stack, Skeleton, Box, Paper } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SkeletonKanbanColumn() {\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: 'grid',\r\n        gap: 3,\r\n        gridTemplateColumns: 'repeat(4, 1fr)',\r\n      }}\r\n    >\r\n      {[...Array(3)].map((_, index) => (\r\n        <Paper variant=\"outlined\" key={index} sx={{ p: 2.5, width: 310 }}>\r\n          <Stack spacing={2}>\r\n            <Skeleton variant=\"rectangular\" sx={{ paddingTop: '75%', borderRadius: 1.5 }} />\r\n            {index === 0 && (\r\n              <Skeleton variant=\"rectangular\" sx={{ paddingTop: '25%', borderRadius: 1.5 }} />\r\n            )}\r\n            {index !== 2 && (\r\n              <Skeleton variant=\"rectangular\" sx={{ paddingTop: '25%', borderRadius: 1.5 }} />\r\n            )}\r\n          </Stack>\r\n        </Paper>\r\n      ))}\r\n    </Box>\r\n  );\r\n}\r\n","// @mui\r\nimport { Stack, Skeleton } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SkeletonMailSidebarItem() {\r\n  return (\r\n    <Stack spacing={1} direction=\"row\" alignItems=\"center\" sx={{ px: 3, py: 1 }}>\r\n      <Skeleton variant=\"circular\" width={32} height={32} />\r\n      <Skeleton variant=\"text\" sx={{ width: 0.25, height: 16 }} />\r\n    </Stack>\r\n  );\r\n}\r\n","// @mui\r\nimport { Stack, Skeleton } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function SkeletonConversationItem() {\r\n  return (\r\n    <Stack spacing={1} direction=\"row\" alignItems=\"center\" sx={{ px: 3, py: 1.5 }}>\r\n      <Skeleton variant=\"circular\" width={48} height={48} />\r\n\r\n      <Stack spacing={0.5} sx={{ flexGrow: 1 }}>\r\n        <Skeleton variant=\"text\" sx={{ width: 0.5, height: 16 }} />\r\n        <Skeleton variant=\"text\" sx={{ width: 0.25, height: 12 }} />\r\n      </Stack>\r\n    </Stack>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useEffect } from 'react';\r\nimport Lightbox from 'react-image-lightbox';\r\n// @mui\r\nimport { useTheme, alpha } from '@mui/material/styles';\r\nimport { Typography, GlobalStyles } from '@mui/material';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nfunction LightboxModalStyles() {\r\n  const theme = useTheme();\r\n  const isRTL = theme.direction === 'rtl';\r\n\r\n  const ICON_SIZE = 32;\r\n  const ICON_COLOR = theme.palette.grey[600].replace('#', '');\r\n\r\n  const getIcon = (icon) =>\r\n    `url(https://api.iconify.design/carbon/${icon}.svg?color=%23${ICON_COLOR}&width=${ICON_SIZE}&height=${ICON_SIZE})`;\r\n\r\n  const Icon = (icon) => ({\r\n    opacity: 1,\r\n    alignItems: 'center',\r\n    display: 'inline-flex',\r\n    justifyContent: 'center',\r\n    backgroundImage: `unset`,\r\n    backgroundColor: 'transparent',\r\n    transition: theme.transitions.create('opacity'),\r\n    '&:before': {\r\n      display: 'block',\r\n      width: ICON_SIZE,\r\n      height: ICON_SIZE,\r\n      content: getIcon(icon),\r\n    },\r\n    '&:hover': {\r\n      opacity: 0.72,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <GlobalStyles\r\n      styles={{\r\n        '& .ReactModalPortal': {\r\n          '& .ril__outer': {\r\n            backgroundColor: alpha(theme.palette.grey[900], 0.96),\r\n          },\r\n\r\n          // Toolbar\r\n          '& .ril__toolbar': {\r\n            height: 'auto !important',\r\n            padding: theme.spacing(2, 3),\r\n            backgroundColor: 'transparent',\r\n          },\r\n          '& .ril__toolbarLeftSide': { display: 'none' },\r\n          '& .ril__toolbarRightSide': {\r\n            height: 'auto !important',\r\n            padding: 0,\r\n            flexGrow: 1,\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            '& li': {\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n            },\r\n            '& li:first-of-type': {\r\n              flexGrow: 1,\r\n            },\r\n            '& li:not(:first-of-type)': {\r\n              width: 40,\r\n              height: 40,\r\n              justifyContent: 'center',\r\n              marginLeft: theme.spacing(2),\r\n            },\r\n          },\r\n\r\n          // Button\r\n          '& button:focus': { outline: 'none' },\r\n          '& .ril__toolbarRightSide button': {\r\n            width: '100%',\r\n            height: '100%',\r\n            '&.ril__zoomInButton': Icon('zoom-in'),\r\n            '&.ril__zoomOutButton': Icon('zoom-out'),\r\n            '&.ril__closeButton': Icon('close'),\r\n          },\r\n          '& .ril__navButtons': {\r\n            padding: theme.spacing(3),\r\n            '&.ril__navButtonPrev': {\r\n              right: 'auto',\r\n              left: theme.spacing(2),\r\n              ...Icon(isRTL ? 'arrow-right' : 'arrow-left'),\r\n            },\r\n            '&.ril__navButtonNext': {\r\n              left: 'auto',\r\n              right: theme.spacing(2),\r\n              ...Icon(isRTL ? 'arrow-left' : 'arrow-right'),\r\n            },\r\n          },\r\n        },\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nLightboxModal.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  photoIndex: PropTypes.number,\r\n  setPhotoIndex: PropTypes.func,\r\n  isOpen: PropTypes.bool,\r\n};\r\n\r\nexport default function LightboxModal({ images, photoIndex, setPhotoIndex, isOpen, ...other }) {\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const showIndex = <Typography variant=\"subtitle2\">{`${photoIndex + 1} / ${images.length}`}</Typography>;\r\n\r\n  const toolbarButtons = [showIndex];\r\n\r\n  const customStyles = {\r\n    overlay: {\r\n      zIndex: 9999,\r\n    },\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LightboxModalStyles />\r\n\r\n      {isOpen && (\r\n        <Lightbox\r\n          animationDuration={160}\r\n          nextSrc={images[(photoIndex + 1) % images.length]}\r\n          prevSrc={images[(photoIndex + images.length - 1) % images.length]}\r\n          onMovePrevRequest={() => setPhotoIndex((photoIndex + images.length - 1) % images.length)}\r\n          onMoveNextRequest={() => setPhotoIndex((photoIndex + 1) % images.length)}\r\n          toolbarButtons={toolbarButtons}\r\n          reactModalStyle={customStyles}\r\n          {...other}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import 'emoji-mart/css/emoji-mart.css';\r\nimport PropTypes from 'prop-types';\r\nimport { Picker } from 'emoji-mart';\r\nimport { useState } from 'react';\r\n// @mui\r\nimport { useTheme, styled } from '@mui/material/styles';\r\nimport { Box, IconButton, ClickAwayListener } from '@mui/material';\r\n// utils\r\nimport cssStyles from '../utils/cssStyles';\r\n//\r\nimport Iconify from './Iconify';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled(Box)({\r\n  position: 'relative',\r\n});\r\n\r\nconst PickerStyle = styled('div')(({ theme }) => ({\r\n  bottom: 40,\r\n  overflow: 'hidden',\r\n  position: 'absolute',\r\n  left: theme.spacing(-2),\r\n  boxShadow: theme.customShadows.z20,\r\n  borderRadius: Number(theme.shape.borderRadius) * 2,\r\n  '& .emoji-mart': {\r\n    border: 'none',\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  '& .emoji-mart-anchor': {\r\n    color: theme.palette.text.disabled,\r\n    '&:hover, &:focus, &.emoji-mart-anchor-selected': {\r\n      color: theme.palette.text.primary,\r\n    },\r\n  },\r\n  '& .emoji-mart-bar': { borderColor: theme.palette.divider },\r\n  '& .emoji-mart-search input': {\r\n    backgroundColor: 'transparent',\r\n    color: theme.palette.text.primary,\r\n    borderColor: theme.palette.grey[500_32],\r\n    '&::placeholder': {\r\n      ...theme.typography.body2,\r\n      color: theme.palette.text.disabled,\r\n    },\r\n  },\r\n  '& .emoji-mart-search-icon svg': {\r\n    opacity: 1,\r\n    fill: theme.palette.text.disabled,\r\n  },\r\n  '& .emoji-mart-category-label span': {\r\n    ...theme.typography.subtitle2,\r\n    ...cssStyles().bgBlur({ color: theme.palette.background.paper }),\r\n    color: theme.palette.text.primary,\r\n  },\r\n  '& .emoji-mart-title-label': { color: theme.palette.text.primary },\r\n  '& .emoji-mart-category .emoji-mart-emoji:hover:before': {\r\n    backgroundColor: theme.palette.action.selected,\r\n  },\r\n  '& .emoji-mart-emoji': { outline: 'none' },\r\n  '& .emoji-mart-preview-name': {\r\n    color: theme.palette.text.primary,\r\n  },\r\n  '& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon': {\r\n    color: theme.palette.text.secondary,\r\n  },\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nEmojiPicker.propTypes = {\r\n  disabled: PropTypes.bool,\r\n  value: PropTypes.string,\r\n  setValue: PropTypes.func,\r\n  alignRight: PropTypes.bool,\r\n};\r\n\r\nexport default function EmojiPicker({ disabled, value, setValue, alignRight = false, ...other }) {\r\n  const theme = useTheme();\r\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\r\n\r\n  let emojiPicker;\r\n  if (emojiPickerState) {\r\n    emojiPicker = (\r\n      <Picker\r\n        color={theme.palette.primary.main}\r\n        title=\"Pick your emoji\"\r\n        emoji=\"point_up\"\r\n        onSelect={(emoji) => setValue(value + emoji?.native)}\r\n      />\r\n    );\r\n  }\r\n\r\n  const triggerPicker = (event) => {\r\n    event.preventDefault();\r\n    SetEmojiPicker(!emojiPickerState);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    SetEmojiPicker(false);\r\n  };\r\n\r\n  return (\r\n    <ClickAwayListener onClickAway={handleClickAway}>\r\n      <RootStyle {...other}>\r\n        <PickerStyle\r\n          sx={{\r\n            ...(alignRight && {\r\n              right: -2,\r\n              left: 'auto !important',\r\n            }),\r\n          }}\r\n        >\r\n          {emojiPicker}\r\n        </PickerStyle>\r\n        <IconButton disabled={disabled} size=\"small\" onClick={triggerPicker}>\r\n          <Iconify icon={'eva:smiling-face-fill'} width={20} height={20} />\r\n        </IconButton>\r\n      </RootStyle>\r\n    </ClickAwayListener>\r\n  );\r\n}\r\n","// components\r\nimport Image from '../components/Image';\r\nimport Iconify from '../components/Iconify';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst FORMAT_IMG = ['jpg', 'jpeg', 'gif', 'bmp', 'png'];\r\nconst FORMAT_VIDEO = ['m4v', 'avi', 'mpg', 'mp4', 'webm'];\r\nconst FORMAT_WORD = ['doc', 'docx'];\r\nconst FORMAT_EXCEL = ['xls', 'xlsx'];\r\nconst FORMAT_POWERPOINT = ['ppt', 'pptx'];\r\nconst FORMAT_PDF = ['pdf'];\r\nconst FORMAT_PHOTOSHOP = ['psd'];\r\nconst FORMAT_ILLUSTRATOR = ['ai', 'esp'];\r\n\r\nexport function getFileType(fileUrl = '') {\r\n  return (fileUrl && fileUrl.split('.').pop()) || '';\r\n}\r\n\r\nexport function getFileName(fileUrl) {\r\n  return fileUrl.substring(fileUrl.lastIndexOf('/') + 1).replace(/\\.[^/.]+$/, '');\r\n}\r\n\r\nexport function getFileFullName(fileUrl) {\r\n  return fileUrl.split('/').pop();\r\n}\r\n\r\nexport function getFileFormat(fileUrl) {\r\n  let format;\r\n\r\n  switch (fileUrl.includes(getFileType(fileUrl))) {\r\n    case FORMAT_IMG.includes(getFileType(fileUrl)):\r\n      format = 'image';\r\n      break;\r\n    case FORMAT_VIDEO.includes(getFileType(fileUrl)):\r\n      format = 'video';\r\n      break;\r\n    case FORMAT_WORD.includes(getFileType(fileUrl)):\r\n      format = 'word';\r\n      break;\r\n    case FORMAT_EXCEL.includes(getFileType(fileUrl)):\r\n      format = 'excel';\r\n      break;\r\n    case FORMAT_POWERPOINT.includes(getFileType(fileUrl)):\r\n      format = 'powerpoint';\r\n      break;\r\n    case FORMAT_PDF.includes(getFileType(fileUrl)):\r\n      format = 'pdf';\r\n      break;\r\n    case FORMAT_PHOTOSHOP.includes(getFileType(fileUrl)):\r\n      format = 'photoshop';\r\n      break;\r\n    case FORMAT_ILLUSTRATOR.includes(getFileType(fileUrl)):\r\n      format = 'illustrator';\r\n      break;\r\n    default:\r\n      format = getFileType(fileUrl);\r\n  }\r\n\r\n  return format;\r\n}\r\n\r\nconst getIcon = (name) => (\r\n  <Image\r\n    src={`https://minimal-assets-api.vercel.app/assets/icons/file/${name}.svg`}\r\n    alt={name}\r\n    sx={{ width: 28, height: 28 }}\r\n  />\r\n);\r\n\r\nexport function getFileThumb(fileUrl) {\r\n  let thumb;\r\n  switch (getFileFormat(fileUrl)) {\r\n    case 'video':\r\n      thumb = getIcon('format_video');\r\n      break;\r\n    case 'word':\r\n      thumb = getIcon('format_word');\r\n      break;\r\n    case 'excel':\r\n      thumb = getIcon('format_excel');\r\n      break;\r\n    case 'powerpoint':\r\n      thumb = getIcon('format_powerpoint');\r\n      break;\r\n    case 'pdf':\r\n      thumb = getIcon('format_pdf');\r\n      break;\r\n    case 'photoshop':\r\n      thumb = getIcon('format_photoshop');\r\n      break;\r\n    case 'illustrator':\r\n      thumb = getIcon('format_ai');\r\n      break;\r\n    case 'image':\r\n      thumb = <Image src={fileUrl} alt={fileUrl} sx={{ height: 1 }} />;\r\n      break;\r\n    default:\r\n      thumb = <Iconify icon={'eva:file-fill'} sx={{ width: 28, height: 28 }} />;\r\n  }\r\n  return thumb;\r\n}\r\n","/* eslint-disable */\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function uuidv4() {\r\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n    const r = (Math.random() * 16) | 0,\r\n      v = c === 'x' ? r : (r & 0x3) | 0x8;\r\n    return v.toString(16);\r\n  });\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport uniq from 'lodash/uniq';\r\nimport flatten from 'lodash/flatten';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, Button, Divider, Collapse, Typography } from '@mui/material';\r\n// utils\r\nimport { fDateTime } from '../../../utils/formatTime';\r\nimport { getFileFullName, getFileThumb } from '../../../utils/getFileFormat';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport Scrollbar from '../../../components/Scrollbar';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  flexGrow: 1,\r\n  height: '100%',\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  flexDirection: 'column',\r\n  paddingBottom: theme.spacing(2),\r\n}));\r\n\r\nconst FileItemStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  marginTop: theme.spacing(2),\r\n  padding: theme.spacing(0, 2.5),\r\n}));\r\n\r\nconst FileThumbStyle = styled('div')(({ theme }) => ({\r\n  width: 40,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  display: 'flex',\r\n  overflow: 'hidden',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  color: theme.palette.text.secondary,\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.grey[500_16],\r\n}));\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  flexShrink: 0,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled,\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatRoomAttachment.propTypes = {\r\n  conversation: PropTypes.object.isRequired,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func,\r\n};\r\n\r\nexport default function ChatRoomAttachment({ conversation, isCollapse, onCollapse }) {\r\n  const totalAttachment = uniq(flatten(conversation.messages.map((item) => item.attachments))).length;\r\n\r\n  return (\r\n    <RootStyle>\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={\r\n          <Iconify\r\n            icon={isCollapse ? 'eva:arrow-ios-downward-fill' : 'eva:arrow-ios-forward-fill'}\r\n            width={16}\r\n            height={16}\r\n          />\r\n        }\r\n      >\r\n        attachment ({totalAttachment})\r\n      </CollapseButtonStyle>\r\n\r\n      {!isCollapse && <Divider />}\r\n\r\n      <Scrollbar>\r\n        <Collapse in={isCollapse}>\r\n          {conversation.messages.map((file) => (\r\n            <div key={file.id}>\r\n              {file.attachments.map((fileUrl) => (\r\n                <AttachmentItem key={fileUrl} file={file} fileUrl={fileUrl} />\r\n              ))}\r\n            </div>\r\n          ))}\r\n        </Collapse>\r\n      </Scrollbar>\r\n    </RootStyle>\r\n  );\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nAttachmentItem.propTypes = {\r\n  file: PropTypes.object,\r\n  fileUrl: PropTypes.string,\r\n};\r\n\r\nfunction AttachmentItem({ file, fileUrl }) {\r\n  return (\r\n    <FileItemStyle key={fileUrl}>\r\n      <FileThumbStyle>{getFileThumb(fileUrl)}</FileThumbStyle>\r\n      <Box sx={{ ml: 1.5, maxWidth: 150 }}>\r\n        <Typography variant=\"body2\" noWrap>\r\n          {getFileFullName(fileUrl)}\r\n        </Typography>\r\n        <Typography noWrap variant=\"caption\" sx={{ color: 'text.secondary', display: 'block' }}>\r\n          {fDateTime(file.createdAt)}\r\n        </Typography>\r\n      </Box>\r\n    </FileItemStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, Avatar, Button, Divider, Collapse, Typography } from '@mui/material';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled,\r\n}));\r\n\r\nconst RowStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  margin: theme.spacing(1.5, 0),\r\n}));\r\n\r\nconst RowIconStyle = styled(Iconify)(({ theme }) => ({\r\n  width: 16,\r\n  height: 16,\r\n  marginTop: 4,\r\n  marginRight: theme.spacing(1),\r\n  color: theme.palette.text.secondary,\r\n}));\r\n\r\nconst RowTextStyle = styled(Typography)(({ theme }) => ({\r\n  flexGrow: 1,\r\n  maxWidth: 160,\r\n  wordWrap: 'break-word',\r\n  ...theme.typography.body2,\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatRoomOneParticipant.propTypes = {\r\n  participants: PropTypes.array.isRequired,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func,\r\n};\r\n\r\nexport default function ChatRoomOneParticipant({ participants, isCollapse, onCollapse }) {\r\n  const participant = [...participants][0];\r\n\r\n  if (participant === undefined) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Box\r\n        sx={{\r\n          pt: 4,\r\n          pb: 3,\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          flexDirection: 'column',\r\n        }}\r\n      >\r\n        <Avatar alt={participant.name} src={participant.avatar} sx={{ width: 96, height: 96 }} />\r\n        <Box sx={{ mt: 2, textAlign: 'center' }}>\r\n          <Typography variant=\"subtitle1\">{participant.name}</Typography>\r\n          <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n            {participant.position}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n\r\n      <Divider />\r\n\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={\r\n          <Iconify\r\n            icon={isCollapse ? 'eva:arrow-ios-downward-fill' : 'eva:arrow-ios-forward-fill'}\r\n            width={16}\r\n            height={16}\r\n          />\r\n        }\r\n      >\r\n        information\r\n      </CollapseButtonStyle>\r\n\r\n      <Collapse in={isCollapse}>\r\n        <Box sx={{ px: 2.5, pb: 1 }}>\r\n          <RowStyle>\r\n            <RowIconStyle icon={'eva:pin-fill'} />\r\n            <RowTextStyle>{participant.address}</RowTextStyle>\r\n          </RowStyle>\r\n          <RowStyle>\r\n            <RowIconStyle icon={'eva:phone-fill'} />\r\n            <RowTextStyle>{participant.phone}</RowTextStyle>\r\n          </RowStyle>\r\n          <RowStyle>\r\n            <RowIconStyle icon={'eva:email-fill'} />\r\n            <RowTextStyle>{participant.email}</RowTextStyle>\r\n          </RowStyle>\r\n        </Box>\r\n      </Collapse>\r\n    </>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Avatar, Typography, DialogContent } from '@mui/material';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport { DialogAnimate } from '../../../components/animate';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RowStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  marginTop: theme.spacing(1.5),\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatRoomPopup.propTypes = {\r\n  participant: PropTypes.object,\r\n  isOpen: PropTypes.bool,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nexport default function ChatRoomPopup({ participant, isOpen, onClose }) {\r\n  const { name, avatar, position, address, phone, email } = participant;\r\n\r\n  return (\r\n    <DialogAnimate fullWidth maxWidth=\"xs\" open={isOpen} onClose={onClose}>\r\n      <DialogContent sx={{ pb: 5, textAlign: 'center' }}>\r\n        <Avatar\r\n          alt={name}\r\n          src={avatar}\r\n          sx={{\r\n            mt: 5,\r\n            mb: 2,\r\n            mx: 'auto',\r\n            width: 96,\r\n            height: 96,\r\n          }}\r\n        />\r\n        <Typography variant=\"h6\">{name}</Typography>\r\n        <Typography variant=\"body2\" paragraph sx={{ color: 'text.secondary' }}>\r\n          {position}\r\n        </Typography>\r\n\r\n        <RowStyle>\r\n          <Iconify icon={'eva:pin-fill'} sx={{ mr: 1, width: 16, height: 16, color: 'text.disabled' }} />\r\n          <Typography variant=\"body2\">{address}</Typography>\r\n        </RowStyle>\r\n        <RowStyle>\r\n          <Iconify icon={'eva:phone-fill'} sx={{ mr: 1, width: 16, height: 16, color: 'text.disabled' }} />\r\n          <Typography variant=\"body2\">{phone}</Typography>\r\n        </RowStyle>\r\n        <RowStyle>\r\n          <Iconify icon={'eva:email-fill'} sx={{ mr: 1, width: 16, height: 16, color: 'text.disabled' }} />\r\n          <Typography variant=\"body2\">{email}</Typography>\r\n        </RowStyle>\r\n      </DialogContent>\r\n    </DialogAnimate>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, List, Avatar, Button, Collapse, ListItemText, ListItemAvatar, ListItemButton } from '@mui/material';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport Scrollbar from '../../../components/Scrollbar';\r\nimport BadgeStatus from '../../../components/BadgeStatus';\r\n//\r\nimport ChatRoomPopup from './ChatRoomPopup';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst HEIGHT = 64;\r\n\r\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\r\n  ...theme.typography.overline,\r\n  height: 40,\r\n  borderRadius: 0,\r\n  padding: theme.spacing(1, 2),\r\n  justifyContent: 'space-between',\r\n  color: theme.palette.text.disabled,\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatRoomGroupParticipant.propTypes = {\r\n  participants: PropTypes.array.isRequired,\r\n  selectUserId: PropTypes.string,\r\n  onShowPopupUserInfo: PropTypes.func,\r\n  isCollapse: PropTypes.bool,\r\n  onCollapse: PropTypes.func,\r\n};\r\n\r\nexport default function ChatRoomGroupParticipant({\r\n  participants,\r\n  selectUserId,\r\n  onShowPopupUserInfo,\r\n  isCollapse,\r\n  onCollapse,\r\n}) {\r\n  return (\r\n    <>\r\n      <CollapseButtonStyle\r\n        fullWidth\r\n        disableRipple\r\n        color=\"inherit\"\r\n        onClick={onCollapse}\r\n        endIcon={\r\n          <Iconify\r\n            icon={isCollapse ? 'eva:arrow-ios-downward-fill' : 'eva:arrow-ios-forward-fill'}\r\n            width={16}\r\n            height={16}\r\n          />\r\n        }\r\n      >\r\n        In room ({participants.length})\r\n      </CollapseButtonStyle>\r\n\r\n      <Box sx={{ height: isCollapse ? HEIGHT * 4 : 0 }}>\r\n        <Scrollbar>\r\n          <Collapse in={isCollapse} sx={{ height: isCollapse ? HEIGHT * 4 : 0 }}>\r\n            <List disablePadding>\r\n              {participants.map((participant) => (\r\n                <Participant\r\n                  key={participant.id}\r\n                  participant={participant}\r\n                  isOpen={selectUserId === participant.id}\r\n                  onShowPopup={() => onShowPopupUserInfo(participant.id)}\r\n                  onClosePopup={() => onShowPopupUserInfo(null)}\r\n                />\r\n              ))}\r\n            </List>\r\n          </Collapse>\r\n        </Scrollbar>\r\n      </Box>\r\n    </>\r\n  );\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nParticipant.propTypes = {\r\n  participant: PropTypes.object.isRequired,\r\n  isOpen: PropTypes.bool,\r\n  onClosePopup: PropTypes.func,\r\n  onShowPopup: PropTypes.func,\r\n};\r\n\r\nfunction Participant({ participant, isOpen, onClosePopup, onShowPopup }) {\r\n  const { name, avatar, status, position } = participant;\r\n\r\n  return (\r\n    <>\r\n      <ListItemButton onClick={onShowPopup} sx={{ height: HEIGHT, px: 2.5 }}>\r\n        <ListItemAvatar>\r\n          <Box sx={{ position: 'relative', width: 40, height: 40 }}>\r\n            <Avatar alt={name} src={avatar} />\r\n            <BadgeStatus status={status} sx={{ right: 0, bottom: 0, position: 'absolute' }} />\r\n          </Box>\r\n        </ListItemAvatar>\r\n        <ListItemText\r\n          primary={name}\r\n          secondary={position}\r\n          primaryTypographyProps={{ variant: 'subtitle2', noWrap: true }}\r\n          secondaryTypographyProps={{ noWrap: true }}\r\n        />\r\n      </ListItemButton>\r\n      <ChatRoomPopup participant={participant} isOpen={isOpen} onClose={onClosePopup} />\r\n    </>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useState, useEffect } from 'react';\r\n// @mui\r\nimport { useTheme, styled } from '@mui/material/styles';\r\nimport { Box, Drawer, Divider, IconButton } from '@mui/material';\r\n// hooks\r\nimport useResponsive from '../../../hooks/useResponsive';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\n//\r\nimport ChatRoomAttachment from './ChatRoomAttachment';\r\nimport ChatRoomOneParticipant from './ChatRoomOneParticipant';\r\nimport ChatRoomGroupParticipant from './ChatRoomGroupParticipant';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst ToggleButtonStyle = styled((props) => <IconButton disableRipple {...props} />)(({ theme }) => ({\r\n  right: 0,\r\n  zIndex: 9,\r\n  width: 32,\r\n  height: 32,\r\n  position: 'absolute',\r\n  top: theme.spacing(1),\r\n  boxShadow: theme.customShadows.z8,\r\n  backgroundColor: theme.palette.background.paper,\r\n  border: `solid 1px ${theme.palette.divider}`,\r\n  borderRight: 0,\r\n  borderRadius: `12px 0 0 12px`,\r\n  transition: theme.transitions.create('all'),\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.background.neutral,\r\n  },\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst SIDEBAR_WIDTH = 240;\r\n\r\nChatRoom.propTypes = {\r\n  conversation: PropTypes.object.isRequired,\r\n  participants: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default function ChatRoom({ conversation, participants }) {\r\n  const theme = useTheme();\r\n\r\n  const [openSidebar, setOpenSidebar] = useState(true);\r\n\r\n  const [showInfo, setShowInfo] = useState(true);\r\n\r\n  const [selectUser, setSelectUser] = useState(null);\r\n\r\n  const [showAttachment, setShowAttachment] = useState(true);\r\n\r\n  const [showParticipants, setShowParticipants] = useState(true);\r\n\r\n  const isDesktop = useResponsive('up', 'lg');\r\n\r\n  const isGroup = participants.length > 1;\r\n\r\n  useEffect(() => {\r\n    if (!isDesktop) {\r\n      return handleCloseSidebar();\r\n    }\r\n    return handleOpenSidebar();\r\n  }, [isDesktop]);\r\n\r\n  const handleOpenSidebar = () => {\r\n    setOpenSidebar(true);\r\n  };\r\n\r\n  const handleCloseSidebar = () => {\r\n    setOpenSidebar(false);\r\n  };\r\n\r\n  const handleToggleSidebar = () => {\r\n    setOpenSidebar((prev) => !prev);\r\n  };\r\n\r\n  const renderContent = (\r\n    <>\r\n      {isGroup ? (\r\n        <ChatRoomGroupParticipant\r\n          selectUserId={selectUser}\r\n          participants={participants}\r\n          isCollapse={showParticipants}\r\n          onShowPopupUserInfo={(participantId) => setSelectUser(participantId)}\r\n          onCollapse={() => setShowParticipants((prev) => !prev)}\r\n        />\r\n      ) : (\r\n        <div>\r\n          <ChatRoomOneParticipant\r\n            participants={participants}\r\n            isCollapse={showInfo}\r\n            onCollapse={() => setShowInfo((prev) => !prev)}\r\n          />\r\n        </div>\r\n      )}\r\n      <Divider />\r\n\r\n      <ChatRoomAttachment\r\n        conversation={conversation}\r\n        isCollapse={showAttachment}\r\n        onCollapse={() => setShowAttachment((prev) => !prev)}\r\n      />\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ position: 'relative' }}>\r\n      <ToggleButtonStyle\r\n        onClick={handleToggleSidebar}\r\n        sx={{\r\n          ...(openSidebar && isDesktop && { right: SIDEBAR_WIDTH }),\r\n        }}\r\n      >\r\n        <Iconify width={16} height={16} icon={openSidebar ? 'eva:arrow-ios-forward-fill' : 'eva:arrow-ios-back-fill'} />\r\n      </ToggleButtonStyle>\r\n\r\n      {isDesktop ? (\r\n        <Drawer\r\n          open={openSidebar}\r\n          anchor=\"right\"\r\n          variant=\"persistent\"\r\n          sx={{\r\n            height: 1,\r\n            width: SIDEBAR_WIDTH,\r\n            transition: theme.transitions.create('width'),\r\n            ...(!openSidebar && { width: '0px' }),\r\n            '& .MuiDrawer-paper': {\r\n              position: 'static',\r\n              width: SIDEBAR_WIDTH,\r\n            },\r\n          }}\r\n        >\r\n          {renderContent}\r\n        </Drawer>\r\n      ) : (\r\n        <Drawer\r\n          anchor=\"right\"\r\n          ModalProps={{ keepMounted: true }}\r\n          open={openSidebar}\r\n          onClose={handleCloseSidebar}\r\n          sx={{\r\n            '& .MuiDrawer-paper': {\r\n              width: SIDEBAR_WIDTH,\r\n            },\r\n          }}\r\n        >\r\n          {renderContent}\r\n        </Drawer>\r\n      )}\r\n    </Box>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { formatDistanceToNowStrict } from 'date-fns';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Avatar, Box, Typography } from '@mui/material';\r\n// components\r\nimport Image from '../../../components/Image';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  marginBottom: theme.spacing(3),\r\n}));\r\n\r\nconst ContentStyle = styled('div')(({ theme }) => ({\r\n  maxWidth: 320,\r\n  padding: theme.spacing(1.5),\r\n  marginTop: theme.spacing(0.5),\r\n  borderRadius: theme.shape.borderRadius,\r\n  backgroundColor: theme.palette.background.neutral,\r\n}));\r\n\r\nconst InfoStyle = styled(Typography)(({ theme }) => ({\r\n  display: 'flex',\r\n  marginBottom: theme.spacing(0.75),\r\n  color: theme.palette.text.secondary,\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatMessageItem.propTypes = {\r\n  message: PropTypes.object.isRequired,\r\n  conversation: PropTypes.object.isRequired,\r\n  onOpenLightbox: PropTypes.func,\r\n};\r\n\r\nexport default function ChatMessageItem({ message, conversation, onOpenLightbox }) {\r\n  const sender = conversation.participants.find((participant) => participant.id === message.senderId);\r\n  const senderDetails =\r\n    message.senderId === '8864c717-587d-472a-929a-8e5f298024da-0'\r\n      ? { type: 'me' }\r\n      : { avatar: sender?.avatar, name: sender?.name };\r\n\r\n  const isMe = senderDetails.type === 'me';\r\n  const isImage = message.contentType === 'image';\r\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\r\n\r\n  return (\r\n    <RootStyle>\r\n      <Box\r\n        sx={{\r\n          display: 'flex',\r\n          ...(isMe && {\r\n            ml: 'auto',\r\n          }),\r\n        }}\r\n      >\r\n        {senderDetails.type !== 'me' && (\r\n          <Avatar alt={senderDetails.name} src={senderDetails.avatar} sx={{ width: 32, height: 32, mr: 2 }} />\r\n        )}\r\n\r\n        <div>\r\n          <InfoStyle\r\n            variant=\"caption\"\r\n            sx={{\r\n              ...(isMe && { justifyContent: 'flex-end' }),\r\n            }}\r\n          >\r\n            {!isMe && `${firstName},`}&nbsp;\r\n            {formatDistanceToNowStrict(new Date(message.createdAt), {\r\n              addSuffix: true,\r\n            })}\r\n          </InfoStyle>\r\n\r\n          <ContentStyle\r\n            sx={{\r\n              ...(isMe && { color: 'grey.800', bgcolor: 'primary.lighter' }),\r\n              ...(isImage && { p: 0 }),\r\n            }}\r\n          >\r\n            {isImage ? (\r\n              <Image\r\n                alt=\"attachment\"\r\n                src={message.body}\r\n                onClick={() => onOpenLightbox(message.body)}\r\n                sx={{ borderRadius: 1, cursor: 'pointer', '&:hover': { opacity: 0.8 } }}\r\n              />\r\n            ) : (\r\n              <Typography variant=\"body2\">{message.body}</Typography>\r\n            )}\r\n          </ContentStyle>\r\n        </div>\r\n      </Box>\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useEffect, useState, useRef } from 'react';\r\n//\r\nimport Scrollbar from '../../../components/Scrollbar';\r\nimport LightboxModal from '../../../components/LightboxModal';\r\nimport ChatMessageItem from './ChatMessageItem';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatMessageList.propTypes = {\r\n  conversation: PropTypes.object.isRequired,\r\n};\r\n\r\nexport default function ChatMessageList({ conversation }) {\r\n  const scrollRef = useRef(null);\r\n\r\n  const [openLightbox, setOpenLightbox] = useState(false);\r\n\r\n  const [selectedImage, setSelectedImage] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const scrollMessagesToBottom = () => {\r\n      if (scrollRef.current) {\r\n        scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\r\n      }\r\n    };\r\n    scrollMessagesToBottom();\r\n  }, [conversation.messages]);\r\n\r\n  const imagesLightbox = conversation.messages\r\n    .filter((messages) => messages.contentType === 'image')\r\n    .map((messages) => messages.body);\r\n\r\n  const handleOpenLightbox = (url) => {\r\n    const selectedImage = imagesLightbox.findIndex((index) => index === url);\r\n    setOpenLightbox(true);\r\n    setSelectedImage(selectedImage);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Scrollbar scrollableNodeProps={{ ref: scrollRef }} sx={{ p: 3, height: 1 }}>\r\n        {conversation.messages.map((message) => (\r\n          <ChatMessageItem\r\n            key={message.id}\r\n            message={message}\r\n            conversation={conversation}\r\n            onOpenLightbox={handleOpenLightbox}\r\n          />\r\n        ))}\r\n      </Scrollbar>\r\n\r\n      <LightboxModal\r\n        images={imagesLightbox}\r\n        mainSrc={imagesLightbox[selectedImage]}\r\n        photoIndex={selectedImage}\r\n        setPhotoIndex={setSelectedImage}\r\n        isOpen={openLightbox}\r\n        onCloseRequest={() => setOpenLightbox(false)}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { capitalCase } from 'change-case';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, Link, Avatar, Typography, AvatarGroup, IconButton } from '@mui/material';\r\n// utils\r\nimport { fToNow } from '../../../utils/formatTime';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport BadgeStatus from '../../../components/BadgeStatus';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  flexShrink: 0,\r\n  minHeight: 92,\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(0, 3),\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatHeaderDetail.propTypes = {\r\n  participants: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default function ChatHeaderDetail({ participants }) {\r\n  const isGroup = participants.length > 1;\r\n\r\n  return (\r\n    <RootStyle>\r\n      {isGroup ? <GroupAvatar participants={participants} /> : <OneAvatar participants={participants} />}\r\n\r\n      <Box sx={{ flexGrow: 1 }} />\r\n      <IconButton>\r\n        <Iconify icon=\"eva:phone-fill\" width={20} height={20} />\r\n      </IconButton>\r\n      <IconButton>\r\n        <Iconify icon=\"eva:video-fill\" width={20} height={20} />\r\n      </IconButton>\r\n      <IconButton>\r\n        <Iconify icon=\"eva:more-vertical-fill\" width={20} height={20} />\r\n      </IconButton>\r\n    </RootStyle>\r\n  );\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nOneAvatar.propTypes = {\r\n  participants: PropTypes.array.isRequired,\r\n};\r\n\r\nfunction OneAvatar({ participants }) {\r\n  const participant = [...participants][0];\r\n\r\n  if (participant === undefined || !participant.status) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n      <Box sx={{ position: 'relative' }}>\r\n        <Avatar src={participant.avatar} alt={participant.name} />\r\n        <BadgeStatus status={participant.status} sx={{ position: 'absolute', right: 2, bottom: 2 }} />\r\n      </Box>\r\n      <Box sx={{ ml: 2 }}>\r\n        <Typography variant=\"subtitle2\">{participant.name}</Typography>\r\n\r\n        <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n          {participant.status !== 'offline' ? capitalCase(participant.status) : fToNow(participant.lastActivity || '')}\r\n        </Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nGroupAvatar.propTypes = {\r\n  participants: PropTypes.array.isRequired,\r\n};\r\n\r\nfunction GroupAvatar({ participants }) {\r\n  return (\r\n    <div>\r\n      <AvatarGroup\r\n        max={3}\r\n        sx={{\r\n          mb: 0.5,\r\n          '& .MuiAvatar-root': { width: 32, height: 32 },\r\n        }}\r\n      >\r\n        {participants.map((participant) => (\r\n          <Avatar key={participant.id} alt={participant.name} src={participant.avatar} />\r\n        ))}\r\n      </AvatarGroup>\r\n      <Link variant=\"body2\" underline=\"none\" component=\"button\" color=\"text.secondary\" onClick={() => {}}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n          {participants.length} persons\r\n          <Iconify icon=\"eva:arrow-ios-forward-fill\" />\r\n        </Box>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useRef, useState } from 'react';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Stack, Input, Divider, IconButton, InputAdornment } from '@mui/material';\r\n// utils\r\nimport uuidv4 from '../../../utils/uuidv4';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport EmojiPicker from '../../../components/EmojiPicker';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  minHeight: 56,\r\n  display: 'flex',\r\n  position: 'relative',\r\n  alignItems: 'center',\r\n  paddingLeft: theme.spacing(2),\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatMessageInput.propTypes = {\r\n  disabled: PropTypes.bool,\r\n  conversationId: PropTypes.string,\r\n  onSend: PropTypes.func,\r\n};\r\n\r\nexport default function ChatMessageInput({ disabled, conversationId, onSend }) {\r\n  const fileInputRef = useRef(null);\r\n  const [message, setMessage] = useState('');\r\n\r\n  const handleAttach = () => {\r\n    fileInputRef.current?.click();\r\n  };\r\n\r\n  const handleKeyUp = (event) => {\r\n    if (event.key === 'Enter') {\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  const handleSend = () => {\r\n    if (!message) {\r\n      return '';\r\n    }\r\n    if (onSend && conversationId) {\r\n      onSend({\r\n        conversationId,\r\n        messageId: uuidv4(),\r\n        message,\r\n        contentType: 'text',\r\n        attachments: [],\r\n        createdAt: new Date(),\r\n        senderId: '8864c717-587d-472a-929a-8e5f298024da-0',\r\n      });\r\n    }\r\n    return setMessage('');\r\n  };\r\n\r\n  return (\r\n    <RootStyle>\r\n      <Input\r\n        disabled={disabled}\r\n        fullWidth\r\n        value={message}\r\n        disableUnderline\r\n        onKeyUp={handleKeyUp}\r\n        onChange={(event) => setMessage(event.target.value)}\r\n        placeholder=\"Type a message\"\r\n        startAdornment={\r\n          <InputAdornment position=\"start\">\r\n            <EmojiPicker disabled={disabled} value={message} setValue={setMessage} />\r\n          </InputAdornment>\r\n        }\r\n        endAdornment={\r\n          <Stack direction=\"row\" spacing={1} sx={{ flexShrink: 0, mr: 1.5 }}>\r\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\r\n              <Iconify icon=\"ic:round-add-photo-alternate\" width={22} height={22} />\r\n            </IconButton>\r\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\r\n              <Iconify icon=\"eva:attach-2-fill\" width={22} height={22} />\r\n            </IconButton>\r\n            <IconButton disabled={disabled} size=\"small\">\r\n              <Iconify icon=\"eva:mic-fill\" width={22} height={22} />\r\n            </IconButton>\r\n          </Stack>\r\n        }\r\n      />\r\n\r\n      <Divider orientation=\"vertical\" flexItem />\r\n\r\n      <IconButton color=\"primary\" disabled={!message} onClick={handleSend} sx={{ mx: 1 }}>\r\n        <Iconify icon=\"ic:round-send\" width={22} height={22} />\r\n      </IconButton>\r\n\r\n      <input type=\"file\" ref={fileInputRef} style={{ display: 'none' }} />\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport parse from 'autosuggest-highlight/parse';\r\nimport match from 'autosuggest-highlight/match';\r\n// @mui\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport { Box, Avatar, TextField, Typography, Autocomplete, Chip } from '@mui/material';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport SearchNotFound from '../../../components/SearchNotFound';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst RootStyle = styled('div')(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(2, 3),\r\n}));\r\n\r\nconst AutocompleteStyle = styled('div')(({ theme }) => ({\r\n  '& .MuiAutocomplete-root': {\r\n    minWidth: 280,\r\n    marginLeft: theme.spacing(2),\r\n    '&.Mui-focused .MuiAutocomplete-inputRoot': {\r\n      boxShadow: theme.customShadows.z8,\r\n    },\r\n  },\r\n  '& .MuiAutocomplete-inputRoot': {\r\n    transition: theme.transitions.create('box-shadow', {\r\n      easing: theme.transitions.easing.easeInOut,\r\n      duration: theme.transitions.duration.shorter,\r\n    }),\r\n    '& fieldset': {\r\n      borderWidth: `1px !important`,\r\n      borderColor: `${theme.palette.grey[500_32]} !important`,\r\n    },\r\n  },\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatHeaderCompose.propTypes = {\r\n  contacts: PropTypes.array,\r\n  recipients: PropTypes.array,\r\n  onAddRecipients: PropTypes.func,\r\n};\r\n\r\nexport default function ChatHeaderCompose({ contacts, recipients, onAddRecipients }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleAddRecipients = (recipients) => {\r\n    setQuery('');\r\n    onAddRecipients(recipients);\r\n  };\r\n\r\n  return (\r\n    <RootStyle>\r\n      <Typography variant=\"subtitle2\" sx={{ color: 'text.secondary' }}>\r\n        To:\r\n      </Typography>\r\n\r\n      <AutocompleteStyle>\r\n        <Autocomplete\r\n          multiple\r\n          size=\"small\"\r\n          disablePortal\r\n          popupIcon={null}\r\n          noOptionsText={<SearchNotFound searchQuery={query} />}\r\n          onChange={(event, value) => handleAddRecipients(value)}\r\n          onInputChange={(event, value) => setQuery(value)}\r\n          options={contacts}\r\n          getOptionLabel={(recipient) => recipient.name}\r\n          renderOption={(props, recipient, { inputValue, selected }) => {\r\n            const { name, avatar } = recipient;\r\n            const matches = match(name, inputValue);\r\n            const parts = parse(name, matches);\r\n            return (\r\n              <Box component=\"li\" sx={{ p: '12px !important' }} {...props}>\r\n                <Box\r\n                  sx={{\r\n                    mr: 1.5,\r\n                    width: 32,\r\n                    height: 32,\r\n                    overflow: 'hidden',\r\n                    borderRadius: '50%',\r\n                    position: 'relative',\r\n                  }}\r\n                >\r\n                  <Avatar alt={name} src={avatar} />\r\n                  <Box\r\n                    sx={{\r\n                      top: 0,\r\n                      opacity: 0,\r\n                      width: '100%',\r\n                      height: '100%',\r\n                      display: 'flex',\r\n                      position: 'absolute',\r\n                      alignItems: 'center',\r\n                      justifyContent: 'center',\r\n                      bgcolor: (theme) => alpha(theme.palette.grey[900], 0.8),\r\n                      transition: (theme) =>\r\n                        theme.transitions.create('opacity', {\r\n                          easing: theme.transitions.easing.easeInOut,\r\n                          duration: theme.transitions.duration.shorter,\r\n                        }),\r\n                      ...(selected && {\r\n                        opacity: 1,\r\n                        color: 'primary.main',\r\n                      }),\r\n                    }}\r\n                  >\r\n                    <Iconify icon=\"eva:checkmark-fill\" width={20} height={20} />\r\n                  </Box>\r\n                </Box>\r\n\r\n                {parts.map((part, index) => (\r\n                  <Typography key={index} variant=\"subtitle2\" color={part.highlight ? 'primary' : 'textPrimary'}>\r\n                    {part.text}\r\n                  </Typography>\r\n                ))}\r\n              </Box>\r\n            );\r\n          }}\r\n          renderTags={(recipients, getTagProps) =>\r\n            recipients.map((recipient, index) => {\r\n              const { id, name, avatar } = recipient;\r\n              return (\r\n                <Chip\r\n                  {...getTagProps({ index })}\r\n                  key={id}\r\n                  size=\"small\"\r\n                  label={name}\r\n                  color=\"info\"\r\n                  avatar={<Avatar alt={name} src={avatar} />}\r\n                />\r\n              );\r\n            })\r\n          }\r\n          renderInput={(params) => <TextField {...params} placeholder={recipients.length === 0 ? 'Recipients' : ''} />}\r\n        />\r\n      </AutocompleteStyle>\r\n    </RootStyle>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\nimport { useNavigate, useParams, useLocation } from 'react-router-dom';\r\n// @mui\r\nimport { Box, Divider, Stack } from '@mui/material';\r\n// redux\r\nimport { useDispatch, useSelector } from '../../../redux/store';\r\nimport {\r\n  addRecipients,\r\n  onSendMessage,\r\n  getConversation,\r\n  getParticipants,\r\n  markConversationAsRead,\r\n  resetActiveConversation,\r\n} from '../../../redux/slices/chat';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n//\r\nimport ChatRoom from './ChatRoom';\r\nimport ChatMessageList from './ChatMessageList';\r\nimport ChatHeaderDetail from './ChatHeaderDetail';\r\nimport ChatMessageInput from './ChatMessageInput';\r\nimport ChatHeaderCompose from './ChatHeaderCompose';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst conversationSelector = (state) => {\r\n  const { conversations, activeConversationId } = state.chat;\r\n  const conversation = activeConversationId ? conversations.byId[activeConversationId] : null;\r\n  if (conversation) {\r\n    return conversation;\r\n  }\r\n  const initState = {\r\n    id: '',\r\n    messages: [],\r\n    participants: [],\r\n    unreadCount: 0,\r\n    type: '',\r\n  };\r\n  return initState;\r\n};\r\n\r\nexport default function ChatWindow() {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { pathname } = useLocation();\r\n  const { conversationKey } = useParams();\r\n  const { contacts, recipients, participants, activeConversationId } = useSelector((state) => state.chat);\r\n  const conversation = useSelector((state) => conversationSelector(state));\r\n\r\n  const mode = conversationKey ? 'DETAIL' : 'COMPOSE';\r\n  const displayParticipants = participants.filter((item) => item.id !== '8864c717-587d-472a-929a-8e5f298024da-0');\r\n\r\n  useEffect(() => {\r\n    const getDetails = async () => {\r\n      dispatch(getParticipants(conversationKey));\r\n      try {\r\n        await dispatch(getConversation(conversationKey));\r\n      } catch (error) {\r\n        console.error(error);\r\n        navigate(PATH_DASHBOARD.chat.new);\r\n      }\r\n    };\r\n    if (conversationKey) {\r\n      getDetails();\r\n    } else if (activeConversationId) {\r\n      dispatch(resetActiveConversation());\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [conversationKey]);\r\n\r\n  useEffect(() => {\r\n    if (activeConversationId) {\r\n      dispatch(markConversationAsRead(activeConversationId));\r\n    }\r\n  }, [dispatch, activeConversationId]);\r\n\r\n  const handleAddRecipients = (recipients) => {\r\n    dispatch(addRecipients(recipients));\r\n  };\r\n\r\n  const handleSendMessage = async (value) => {\r\n    try {\r\n      dispatch(onSendMessage(value));\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack sx={{ flexGrow: 1, minWidth: '1px' }}>\r\n      {mode === 'DETAIL' ? (\r\n        <ChatHeaderDetail participants={displayParticipants} />\r\n      ) : (\r\n        <ChatHeaderCompose\r\n          recipients={recipients}\r\n          contacts={Object.values(contacts.byId)}\r\n          onAddRecipients={handleAddRecipients}\r\n        />\r\n      )}\r\n\r\n      <Divider />\r\n\r\n      <Box sx={{ flexGrow: 1, display: 'flex', overflow: 'hidden' }}>\r\n        <Stack sx={{ flexGrow: 1 }}>\r\n          <ChatMessageList conversation={conversation} />\r\n\r\n          <Divider />\r\n\r\n          <ChatMessageInput\r\n            conversationId={activeConversationId}\r\n            onSend={handleSendMessage}\r\n            disabled={pathname === PATH_DASHBOARD.chat.new}\r\n          />\r\n        </Stack>\r\n\r\n        {mode === 'DETAIL' && <ChatRoom conversation={conversation} participants={displayParticipants} />}\r\n      </Box>\r\n    </Stack>\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport { capitalCase } from 'change-case';\r\n// @mui\r\nimport { Box, List, Stack, Select, Divider, Tooltip, MenuItem, Typography, IconButton } from '@mui/material';\r\n// hooks\r\nimport useAuth from '../../../hooks/useAuth';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport MyAvatar from '../../../components/MyAvatar';\r\nimport MenuPopover from '../../../components/MenuPopover';\r\nimport BadgeStatus from '../../../components/BadgeStatus';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst STATUS = ['online', 'invisible', 'away'];\r\n\r\nexport default function ChatAccount() {\r\n  const { user } = useAuth();\r\n\r\n  const [status, setStatus] = useState('online');\r\n\r\n  const [open, setOpen] = useState(null);\r\n\r\n  const handleOpen = (event) => {\r\n    setOpen(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(null);\r\n  };\r\n\r\n  const ICON = {\r\n    mr: 2,\r\n    width: 20,\r\n    height: 20,\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Box sx={{ position: 'relative' }}>\r\n        <MyAvatar onClick={handleOpen} sx={{ cursor: 'pointer', width: 48, height: 48 }} />\r\n        <BadgeStatus status={status} sx={{ position: 'absolute', bottom: 2, right: 2 }} />\r\n      </Box>\r\n\r\n      <MenuPopover\r\n        open={Boolean(open)}\r\n        anchorEl={open}\r\n        onClose={handleClose}\r\n        anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        transformOrigin={{ vertical: 'top', horizontal: 'left' }}\r\n        arrow=\"left-top\"\r\n        sx={{ p: 0, ml: 0.5, width: 'auto' }}\r\n      >\r\n        <Stack direction=\"row\" alignItems=\"center\" spacing={2} sx={{ py: 2, pr: 1, pl: 2.5 }}>\r\n          <div>\r\n            <Typography noWrap variant=\"subtitle1\">\r\n              {user?.displayName}\r\n            </Typography>\r\n            <Typography noWrap variant=\"body2\" sx={{ color: 'text.secondary' }}>\r\n              {user?.email}\r\n            </Typography>\r\n          </div>\r\n\r\n          <Tooltip title=\"Log out\">\r\n            <IconButton color=\"error\">\r\n              <Iconify icon=\"ic:round-power-settings-new\" width={20} height={20} />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Stack>\r\n\r\n        <Divider />\r\n\r\n        <List\r\n          sx={{\r\n            px: 1,\r\n            '& .MuiMenuItem-root': {\r\n              py: 1,\r\n              px: 2,\r\n              typography: 'body2',\r\n              borderRadius: 0.75,\r\n            },\r\n          }}\r\n        >\r\n          <MenuItem>\r\n            <BadgeStatus size=\"large\" status={status} sx={{ m: 0.5, flexShrink: 0 }} />\r\n\r\n            <Select\r\n              native\r\n              fullWidth\r\n              value={status}\r\n              onChange={(event) => setStatus(event.target.value)}\r\n              sx={{\r\n                ml: 2,\r\n                '& svg': { display: `none` },\r\n                '& select': { p: 0, typography: 'body2' },\r\n                '& fieldset': { display: 'none' },\r\n              }}\r\n            >\r\n              {STATUS.map((option) => (\r\n                <option key={option} value={option}>\r\n                  {capitalCase(option)}\r\n                </option>\r\n              ))}\r\n            </Select>\r\n          </MenuItem>\r\n\r\n          <MenuItem>\r\n            <Iconify icon=\"ic:round-account-box\" sx={{ ...ICON }} />\r\n            Profile\r\n          </MenuItem>\r\n\r\n          <MenuItem>\r\n            <Iconify icon=\"eva:settings-2-fill\" sx={{ ...ICON }} />\r\n            Settings\r\n          </MenuItem>\r\n        </List>\r\n      </MenuPopover>\r\n    </>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\n// @mui\r\nimport { List, Avatar, Typography, ListItemText, ListItemAvatar, ListItemButton } from '@mui/material';\r\n//\r\nimport SearchNotFound from '../../../components/SearchNotFound';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatSearchResults.propTypes = {\r\n  query: PropTypes.string,\r\n  results: PropTypes.array,\r\n  onSelectContact: PropTypes.func,\r\n};\r\n\r\nexport default function ChatSearchResults({ query, results, onSelectContact }) {\r\n  const isFound = results.length > 0;\r\n\r\n  return (\r\n    <>\r\n      <Typography paragraph variant=\"subtitle1\" sx={{ px: 3, color: 'text.secondary' }}>\r\n        Contacts\r\n      </Typography>\r\n\r\n      <List disablePadding>\r\n        {results.map((result) => (\r\n          <ListItemButton\r\n            key={result.id}\r\n            onClick={() => onSelectContact(result)}\r\n            sx={{\r\n              py: 1.5,\r\n              px: 3,\r\n            }}\r\n          >\r\n            <ListItemAvatar>\r\n              <Avatar alt={result.name} src={result.avatar} />\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n              primary={result.name}\r\n              primaryTypographyProps={{\r\n                noWrap: true,\r\n                variant: 'subtitle2',\r\n              }}\r\n            />\r\n          </ListItemButton>\r\n        ))}\r\n      </List>\r\n      {!isFound && (\r\n        <SearchNotFound\r\n          searchQuery={query}\r\n          sx={{\r\n            p: 3,\r\n            mx: 'auto',\r\n            width: `calc(100% - 48px)`,\r\n            bgcolor: 'background.neutral',\r\n          }}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\n// @mui\r\nimport { InputAdornment, ClickAwayListener } from '@mui/material';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport InputStyle from '../../../components/InputStyle';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatContactSearch.propTypes = {\r\n  query: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n  onFocus: PropTypes.func,\r\n  onClickAway: PropTypes.func,\r\n};\r\n\r\nexport default function ChatContactSearch({ query, onChange, onFocus, onClickAway }) {\r\n  return (\r\n    <ClickAwayListener onClickAway={onClickAway}>\r\n      <InputStyle\r\n        fullWidth\r\n        size=\"small\"\r\n        value={query}\r\n        onFocus={onFocus}\r\n        onChange={onChange}\r\n        placeholder=\"Search contacts...\"\r\n        InputProps={{\r\n          startAdornment: (\r\n            <InputAdornment position=\"start\">\r\n              <Iconify icon=\"eva:search-fill\" sx={{ color: 'text.disabled', width: 20, height: 20 }} />\r\n            </InputAdornment>\r\n          ),\r\n        }}\r\n        sx={{ mt: 2 }}\r\n      />\r\n    </ClickAwayListener>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { formatDistanceToNowStrict } from 'date-fns';\r\n// @mui\r\nimport { styled } from '@mui/material/styles';\r\nimport { Box, Avatar, ListItemText, ListItemAvatar, ListItemButton } from '@mui/material';\r\n//\r\nimport BadgeStatus from '../../../components/BadgeStatus';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst AVATAR_SIZE = 48;\r\nconst AVATAR_SIZE_GROUP = 32;\r\n\r\nconst RootStyle = styled(ListItemButton)(({ theme }) => ({\r\n  padding: theme.spacing(1.5, 3),\r\n  transition: theme.transitions.create('all'),\r\n}));\r\n\r\nconst AvatarWrapperStyle = styled('div')({\r\n  position: 'relative',\r\n  width: AVATAR_SIZE,\r\n  height: AVATAR_SIZE,\r\n  '& .MuiAvatar-img': { borderRadius: '50%' },\r\n  '& .MuiAvatar-root': { width: '100%', height: '100%' },\r\n});\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst getDetails = (conversation, currentUserId) => {\r\n  const otherParticipants = conversation.participants.filter((participant) => participant.id !== currentUserId);\r\n  const displayNames = otherParticipants.reduce((names, participant) => [...names, participant.name], []).join(', ');\r\n  let displayText = '';\r\n  const lastMessage = conversation.messages[conversation.messages.length - 1];\r\n  if (lastMessage) {\r\n    const sender = lastMessage.senderId === currentUserId ? 'You: ' : '';\r\n    const message = lastMessage.contentType === 'image' ? 'Sent a photo' : lastMessage.body;\r\n    displayText = `${sender}${message}`;\r\n  }\r\n  return { otherParticipants, displayNames, displayText };\r\n};\r\n\r\nChatConversationItem.propTypes = {\r\n  isSelected: PropTypes.bool,\r\n  conversation: PropTypes.object.isRequired,\r\n  isOpenSidebar: PropTypes.bool,\r\n  onSelectConversation: PropTypes.func,\r\n};\r\n\r\nexport default function ChatConversationItem({ isSelected, conversation, isOpenSidebar, onSelectConversation }) {\r\n  const details = getDetails(conversation, '8864c717-587d-472a-929a-8e5f298024da-0');\r\n\r\n  const displayLastActivity = conversation.messages[conversation.messages.length - 1].createdAt;\r\n\r\n  const isGroup = details.otherParticipants.length > 1;\r\n  const isUnread = conversation.unreadCount > 0;\r\n  const isOnlineGroup = isGroup && details.otherParticipants.map((item) => item.status).includes('online');\r\n\r\n  return (\r\n    <RootStyle\r\n      onClick={onSelectConversation}\r\n      sx={{\r\n        ...(isSelected && { bgcolor: 'action.selected' }),\r\n      }}\r\n    >\r\n      <ListItemAvatar>\r\n        <Box\r\n          sx={{\r\n            ...(isGroup && {\r\n              position: 'relative',\r\n              width: AVATAR_SIZE,\r\n              height: AVATAR_SIZE,\r\n              '& .avatarWrapper': {\r\n                position: 'absolute',\r\n                width: AVATAR_SIZE_GROUP,\r\n                height: AVATAR_SIZE_GROUP,\r\n                '&:nth-of-type(1)': {\r\n                  left: 0,\r\n                  zIndex: 9,\r\n                  bottom: 2,\r\n                  '& .MuiAvatar-root': {\r\n                    border: (theme) => `solid 2px ${theme.palette.background.paper}`,\r\n                  },\r\n                },\r\n                '&:nth-of-type(2)': { top: 2, right: 0 },\r\n              },\r\n            }),\r\n          }}\r\n        >\r\n          {details.otherParticipants.slice(0, 2).map((participant) => (\r\n            <AvatarWrapperStyle className=\"avatarWrapper\" key={participant.id}>\r\n              <Avatar alt={participant.name} src={participant.avatar} />\r\n              {!isGroup && (\r\n                <BadgeStatus status={participant.status} sx={{ right: 2, bottom: 2, position: 'absolute' }} />\r\n              )}\r\n            </AvatarWrapperStyle>\r\n          ))}\r\n\r\n          {isOnlineGroup && <BadgeStatus status=\"online\" sx={{ right: 2, bottom: 2, position: 'absolute' }} />}\r\n        </Box>\r\n      </ListItemAvatar>\r\n\r\n      {isOpenSidebar && (\r\n        <>\r\n          <ListItemText\r\n            primary={details.displayNames}\r\n            primaryTypographyProps={{\r\n              noWrap: true,\r\n              variant: 'subtitle2',\r\n            }}\r\n            secondary={details.displayText}\r\n            secondaryTypographyProps={{\r\n              noWrap: true,\r\n              variant: isUnread ? 'subtitle2' : 'body2',\r\n              color: isUnread ? 'textPrimary' : 'textSecondary',\r\n            }}\r\n          />\r\n\r\n          <Box\r\n            sx={{\r\n              ml: 2,\r\n              height: 44,\r\n              display: 'flex',\r\n              alignItems: 'flex-end',\r\n              flexDirection: 'column',\r\n            }}\r\n          >\r\n            <Box\r\n              sx={{\r\n                mb: 1.25,\r\n                fontSize: 12,\r\n                lineHeight: '22px',\r\n                whiteSpace: 'nowrap',\r\n                color: 'text.disabled',\r\n              }}\r\n            >\r\n              {formatDistanceToNowStrict(new Date(displayLastActivity), {\r\n                addSuffix: false,\r\n              })}\r\n            </Box>\r\n            {isUnread && <BadgeStatus status=\"unread\" size=\"small\" />}\r\n          </Box>\r\n        </>\r\n      )}\r\n    </RootStyle>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport { useNavigate } from 'react-router-dom';\r\n// @mui\r\nimport { List } from '@mui/material';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n// components\r\nimport { SkeletonConversationItem } from '../../../components/skeleton';\r\n//\r\nimport ChatConversationItem from './ChatConversationItem';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nChatConversationList.propTypes = {\r\n  conversations: PropTypes.object,\r\n  isOpenSidebar: PropTypes.bool,\r\n  activeConversationId: PropTypes.string,\r\n  sx: PropTypes.object,\r\n};\r\n\r\nexport default function ChatConversationList({ conversations, isOpenSidebar, activeConversationId, sx, ...other }) {\r\n  const navigate = useNavigate();\r\n\r\n  const handleSelectConversation = (conversationId) => {\r\n    let conversationKey = '';\r\n    const conversation = conversations.byId[conversationId];\r\n    if (conversation.type === 'GROUP') {\r\n      conversationKey = conversation.id;\r\n    } else {\r\n      const otherParticipant = conversation.participants.find(\r\n        (participant) => participant.id !== '8864c717-587d-472a-929a-8e5f298024da-0'\r\n      );\r\n      if (otherParticipant?.username) {\r\n        conversationKey = otherParticipant?.username;\r\n      }\r\n    }\r\n    navigate(`${PATH_DASHBOARD.chat.root}/${conversationKey}`);\r\n  };\r\n\r\n  const loading = !conversations.allIds.length;\r\n\r\n  return (\r\n    <List disablePadding sx={sx} {...other}>\r\n      {(loading ? [...Array(12)] : conversations.allIds).map((conversationId, index) =>\r\n        conversationId ? (\r\n          <ChatConversationItem\r\n            key={conversationId}\r\n            isOpenSidebar={isOpenSidebar}\r\n            conversation={conversations.byId[conversationId]}\r\n            isSelected={activeConversationId === conversationId}\r\n            onSelectConversation={() => handleSelectConversation(conversationId)}\r\n          />\r\n        ) : (\r\n          <SkeletonConversationItem key={index} />\r\n        )\r\n      )}\r\n    </List>\r\n  );\r\n}\r\n","import { useState, useEffect } from 'react';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\n// @mui\r\nimport { useTheme, styled } from '@mui/material/styles';\r\nimport { Box, Stack, Drawer, IconButton } from '@mui/material';\r\n// redux\r\nimport { useSelector } from '../../../redux/store';\r\n// hooks\r\nimport useResponsive from '../../../hooks/useResponsive';\r\n// utils\r\nimport axios from '../../../utils/axios';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../../routes/paths';\r\n// components\r\nimport Iconify from '../../../components/Iconify';\r\nimport Scrollbar from '../../../components/Scrollbar';\r\n//\r\nimport ChatAccount from './ChatAccount';\r\nimport ChatSearchResults from './ChatSearchResults';\r\nimport ChatContactSearch from './ChatContactSearch';\r\nimport ChatConversationList from './ChatConversationList';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst ToggleButtonStyle = styled((props) => <IconButton disableRipple {...props} />)(({ theme }) => ({\r\n  left: 0,\r\n  zIndex: 9,\r\n  width: 32,\r\n  height: 32,\r\n  position: 'absolute',\r\n  top: theme.spacing(13),\r\n  borderRadius: `0 12px 12px 0`,\r\n  color: theme.palette.primary.contrastText,\r\n  backgroundColor: theme.palette.primary.main,\r\n  boxShadow: theme.customShadows.primary,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.darker,\r\n  },\r\n}));\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nconst SIDEBAR_WIDTH = 320;\r\nconst SIDEBAR_COLLAPSE_WIDTH = 96;\r\n\r\nexport default function ChatSidebar() {\r\n  const theme = useTheme();\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  const [openSidebar, setOpenSidebar] = useState(true);\r\n\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n\r\n  const [searchResults, setSearchResults] = useState([]);\r\n\r\n  const [isSearchFocused, setSearchFocused] = useState(false);\r\n\r\n  const { conversations, activeConversationId } = useSelector((state) => state.chat);\r\n\r\n  const isDesktop = useResponsive('up', 'md');\r\n\r\n  const displayResults = searchQuery && isSearchFocused;\r\n\r\n  const isCollapse = isDesktop && !openSidebar;\r\n\r\n  useEffect(() => {\r\n    if (!isDesktop) {\r\n      return handleCloseSidebar();\r\n    }\r\n    return handleOpenSidebar();\r\n  }, [isDesktop, pathname]);\r\n\r\n  // eslint-disable-next-line consistent-return\r\n  useEffect(() => {\r\n    if (!openSidebar) {\r\n      return setSearchFocused(false);\r\n    }\r\n  }, [openSidebar]);\r\n\r\n  const handleOpenSidebar = () => {\r\n    setOpenSidebar(true);\r\n  };\r\n\r\n  const handleCloseSidebar = () => {\r\n    setOpenSidebar(false);\r\n  };\r\n\r\n  const handleToggleSidebar = () => {\r\n    setOpenSidebar((prev) => !prev);\r\n  };\r\n\r\n  const handleClickAwaySearch = () => {\r\n    setSearchFocused(false);\r\n    setSearchQuery('');\r\n  };\r\n\r\n  const handleChangeSearch = async (event) => {\r\n    try {\r\n      const { value } = event.target;\r\n      setSearchQuery(value);\r\n      if (value) {\r\n        const response = await axios.get('/api/chat/search', {\r\n          params: { query: value },\r\n        });\r\n        setSearchResults(response.data.results);\r\n      } else {\r\n        setSearchResults([]);\r\n      }\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const handleSearchFocus = () => {\r\n    setSearchFocused(true);\r\n  };\r\n\r\n  const handleSearchSelect = (username) => {\r\n    setSearchFocused(false);\r\n    setSearchQuery('');\r\n    navigate(`${PATH_DASHBOARD.chat.root}/${username}`);\r\n  };\r\n\r\n  const handleSelectContact = (result) => {\r\n    if (handleSearchSelect) {\r\n      handleSearchSelect(result.username);\r\n    }\r\n  };\r\n\r\n  const renderContent = (\r\n    <>\r\n      <Box sx={{ py: 2, px: 3 }}>\r\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\">\r\n          {!isCollapse && (\r\n            <>\r\n              <ChatAccount />\r\n              <Box sx={{ flexGrow: 1 }} />\r\n            </>\r\n          )}\r\n\r\n          <IconButton onClick={handleToggleSidebar}>\r\n            <Iconify\r\n              width={20}\r\n              height={20}\r\n              icon={openSidebar ? 'eva:arrow-ios-back-fill' : 'eva:arrow-ios-forward-fill'}\r\n            />\r\n          </IconButton>\r\n\r\n          {!isCollapse && (\r\n            <IconButton onClick={() => navigate(PATH_DASHBOARD.chat.new)}>\r\n              <Iconify icon={'eva:edit-fill'} width={20} height={20} />\r\n            </IconButton>\r\n          )}\r\n        </Stack>\r\n\r\n        {!isCollapse && (\r\n          <ChatContactSearch\r\n            query={searchQuery}\r\n            onFocus={handleSearchFocus}\r\n            onChange={handleChangeSearch}\r\n            onClickAway={handleClickAwaySearch}\r\n          />\r\n        )}\r\n      </Box>\r\n\r\n      <Scrollbar>\r\n        {!displayResults ? (\r\n          <ChatConversationList\r\n            conversations={conversations}\r\n            isOpenSidebar={openSidebar}\r\n            activeConversationId={activeConversationId}\r\n            sx={{ ...(isSearchFocused && { display: 'none' }) }}\r\n          />\r\n        ) : (\r\n          <ChatSearchResults query={searchQuery} results={searchResults} onSelectContact={handleSelectContact} />\r\n        )}\r\n      </Scrollbar>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {!isDesktop && (\r\n        <ToggleButtonStyle onClick={handleToggleSidebar}>\r\n          <Iconify width={16} height={16} icon={'eva:people-fill'} />\r\n        </ToggleButtonStyle>\r\n      )}\r\n\r\n      {isDesktop ? (\r\n        <Drawer\r\n          open={openSidebar}\r\n          variant=\"persistent\"\r\n          sx={{\r\n            width: SIDEBAR_WIDTH,\r\n            transition: theme.transitions.create('width'),\r\n            '& .MuiDrawer-paper': {\r\n              position: 'static',\r\n              width: SIDEBAR_WIDTH,\r\n            },\r\n            ...(isCollapse && {\r\n              width: SIDEBAR_COLLAPSE_WIDTH,\r\n              '& .MuiDrawer-paper': {\r\n                width: SIDEBAR_COLLAPSE_WIDTH,\r\n                position: 'static',\r\n                transform: 'none !important',\r\n                visibility: 'visible !important',\r\n              },\r\n            }),\r\n          }}\r\n        >\r\n          {renderContent}\r\n        </Drawer>\r\n      ) : (\r\n        <Drawer\r\n          ModalProps={{ keepMounted: true }}\r\n          open={openSidebar}\r\n          onClose={handleCloseSidebar}\r\n          sx={{\r\n            '& .MuiDrawer-paper': { width: SIDEBAR_WIDTH },\r\n          }}\r\n        >\r\n          {renderContent}\r\n        </Drawer>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n","import { useEffect } from 'react';\r\n// @mui\r\nimport { Card, Container } from '@mui/material';\r\n// redux\r\nimport { useDispatch } from '../../redux/store';\r\nimport { getConversations, getContacts } from '../../redux/slices/chat';\r\n// routes\r\nimport { PATH_DASHBOARD } from '../../routes/paths';\r\n// hooks\r\nimport useSettings from '../../hooks/useSettings';\r\n// components\r\nimport Page from '../../components/Page';\r\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\r\nimport { ChatSidebar, ChatWindow } from '../../sections/@dashboard/chat';\r\n\r\n// ----------------------------------------------------------------------\r\n\r\nexport default function Chat() {\r\n  const { themeStretch } = useSettings();\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    dispatch(getConversations());\r\n    dispatch(getContacts());\r\n  }, [dispatch]);\r\n\r\n  return (\r\n    <Page title=\"Chat\">\r\n      <Container maxWidth={themeStretch ? false : 'xl'}>\r\n        <HeaderBreadcrumbs\r\n          heading=\"Chat\"\r\n          links={[{ name: 'Dashboard', href: PATH_DASHBOARD.root }, { name: 'Chat' }]}\r\n        />\r\n        <Card sx={{ height: '72vh', display: 'flex' }}>\r\n          <ChatSidebar />\r\n          <ChatWindow />\r\n        </Card>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n"],"sourceRoot":""}