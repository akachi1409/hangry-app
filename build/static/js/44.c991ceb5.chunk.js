(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[44],{1613:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(2),a=n(29),i=n(150),c=n.n(i),s=n(149),o=n(378),l=n(1504),u=n(48),d=n(1627),j=n(0),b=["links","activeLast"];function m(e){var t=e.links,n=e.activeLast,i=void 0!==n&&n,c=Object(a.a)(e,b),l=t[t.length-1].name,u=t.map((function(e){return Object(j.jsx)(p,{link:e},e.name)})),m=t.map((function(e){return Object(j.jsx)("div",{children:e.name!==l?Object(j.jsx)(p,{link:e}):Object(j.jsx)(o.a,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:l})},e.name)}));return Object(j.jsx)(d.a,Object(r.a)(Object(r.a)({separator:Object(j.jsx)(s.a,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},c),{},{children:i?u:m}))}function p(e){var t=e.link,n=t.href,r=t.name,a=t.icon;return Object(j.jsxs)(l.a,{variant:"body2",component:u.b,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[a&&Object(j.jsx)(s.a,{sx:{mr:1,"& svg":{width:20,height:20}},children:a}),r]},r)}var h=["links","action","heading","moreLink","sx"];function O(e){var t=e.links,n=e.action,i=e.heading,u=e.moreLink,d=void 0===u?[]:u,b=e.sx,p=Object(a.a)(e,h);return Object(j.jsxs)(s.a,{sx:Object(r.a)({mb:5},b),children:[Object(j.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(j.jsxs)(s.a,{sx:{flexGrow:1},children:[Object(j.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:i}),Object(j.jsx)(m,Object(r.a)({links:t},p))]}),n&&Object(j.jsx)(s.a,{sx:{flexShrink:0},children:n})]}),Object(j.jsx)(s.a,{sx:{mt:2},children:c()(d)?Object(j.jsx)(l.a,{href:d,target:"_blank",rel:"noopener",variant:"body2",children:d}):d.map((function(e){return Object(j.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:e},e)}))})]})}},1692:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(10),a=n(505);function i(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),Object(a.a)(e,Object(r.a)({delimiter:"."},t))}(e,Object(r.a)({delimiter:"-"},t))}},2271:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return W}));var r=n(1),a=n(1692),i=n(43),c=n(1591),s=n(30),o=n(507),l=n(36),u=n(75),d=n(499),j=n(1613),b=n(18),m=n(2),p=n(4),h=n.n(p),O=n(286),x=n(287),f=n(50),g=n(504),v=n(7),k=n(1584),y=n(378),S=n(1586),w=n(1606),C=n(1489),P=n(2267),I=n(2187),T=n(1578),L=n(1599),E=n(243),B=n(0),R=["Men","Women","Kids"],q=[{group:"Clothing",classify:["Shirts","T-shirts","Jeans","Leather"]},{group:"Tailored",classify:["Suits","Blazers","Trousers","Waistcoats"]},{group:"Accessories",classify:["Shoes","Backpacks and bags","Bracelets","Face masks"]}],A=["Toy Story 3","Logan","Full Metal Jacket","Dangal","The Sting","2001: A Space Odyssey","Singin' in the Rain","Toy Story","Bicycle Thieves","The Kid","Inglourious Basterds","Snatch","3 Idiots"],D=Object(v.a)(y.a)((function(e){var t=e.theme;return Object(m.a)(Object(m.a)({},t.typography.subtitle2),{},{color:t.palette.text.secondary,marginBottom:t.spacing(1)})}));function N(e){var t=e.isEdit,n=e.currentProduct,a=Object(i.g)(),c=Object(x.b)().enqueueSnackbar,s=O.d().shape({name:O.f().required("Name is required"),description:O.f().required("Description is required"),images:O.a().min(1,"Images is required"),price:O.c().moreThan(0,"Price should not be $0.00")}),o=Object(r.useMemo)((function(){return{name:(null===n||void 0===n?void 0:n.name)||"",description:(null===n||void 0===n?void 0:n.description)||"",images:(null===n||void 0===n?void 0:n.images)||[],code:(null===n||void 0===n?void 0:n.code)||"",sku:(null===n||void 0===n?void 0:n.sku)||"",price:(null===n||void 0===n?void 0:n.price)||0,priceSale:(null===n||void 0===n?void 0:n.priceSale)||0,tags:(null===n||void 0===n?void 0:n.tags)||[A[0]],inStock:!0,taxes:!0,gender:(null===n||void 0===n?void 0:n.gender)||R[2],category:(null===n||void 0===n?void 0:n.category)||q[0].classify[1]}}),[n]),u=Object(f.f)({resolver:Object(g.a)(s),defaultValues:o}),d=u.reset,j=u.watch,p=u.control,v=u.setValue,y=u.getValues,N=u.handleSubmit,W=u.formState.isSubmitting,z=j();Object(r.useEffect)((function(){t&&n&&d(o),t||d(o)}),[t,n]);var J=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,500)}));case 3:d(),c(t?"Update success!":"Create success!"),a(l.b.eCommerce.list),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),M=Object(r.useCallback)((function(e){v("images",e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})})))}),[v]);return Object(B.jsx)(E.a,{methods:u,onSubmit:N(J),children:Object(B.jsxs)(S.a,{container:!0,spacing:3,children:[Object(B.jsx)(S.a,{item:!0,xs:12,md:8,children:Object(B.jsx)(w.a,{sx:{p:3},children:Object(B.jsxs)(C.a,{spacing:3,children:[Object(B.jsx)(E.h,{name:"name",label:"Product Name"}),Object(B.jsxs)("div",{children:[Object(B.jsx)(D,{children:"Description"}),Object(B.jsx)(E.c,{simple:!0,name:"description"})]}),Object(B.jsxs)("div",{children:[Object(B.jsx)(D,{children:"Images"}),Object(B.jsx)(E.j,{name:"images",showPreview:!0,accept:"image/*",maxSize:3145728,onDrop:M,onRemove:function(e){var t,n=null===(t=z.images)||void 0===t?void 0:t.filter((function(t){return t!==e}));v("images",n)},onRemoveAll:function(){v("images",[])}})]})]})})}),Object(B.jsx)(S.a,{item:!0,xs:12,md:4,children:Object(B.jsxs)(C.a,{spacing:3,children:[Object(B.jsxs)(w.a,{sx:{p:3},children:[Object(B.jsx)(E.g,{name:"inStock",label:"In stock"}),Object(B.jsxs)(C.a,{spacing:3,mt:2,children:[Object(B.jsx)(E.h,{name:"code",label:"Product Code"}),Object(B.jsx)(E.h,{name:"sku",label:"Product SKU"}),Object(B.jsxs)("div",{children:[Object(B.jsx)(D,{children:"Gender"}),Object(B.jsx)(E.e,{name:"gender",options:R,sx:{"& .MuiFormControlLabel-root":{mr:4}}})]}),Object(B.jsx)(E.f,{name:"category",label:"Category",children:q.map((function(e){return Object(B.jsx)("optgroup",{label:e.group,children:e.classify.map((function(e){return Object(B.jsx)("option",{value:e,children:e},e)}))},e.group)}))}),Object(B.jsx)(f.a,{name:"tags",control:p,render:function(e){var t=e.field;return Object(B.jsx)(P.a,Object(m.a)(Object(m.a)({},t),{},{multiple:!0,freeSolo:!0,onChange:function(e,n){return t.onChange(n)},options:A.map((function(e){return e})),renderTags:function(e,t){return e.map((function(e,n){return Object(r.createElement)(I.a,Object(m.a)(Object(m.a)({},t({index:n})),{},{key:e,size:"small",label:e}))}))},renderInput:function(e){return Object(B.jsx)(T.a,Object(m.a)({label:"Tags"},e))}}))}})]})]}),Object(B.jsxs)(w.a,{sx:{p:3},children:[Object(B.jsxs)(C.a,{spacing:3,mb:2,children:[Object(B.jsx)(E.h,{name:"price",label:"Regular Price",placeholder:"0.00",value:0===y("price")?"":y("price"),onChange:function(e){return v("price",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(B.jsx)(L.a,{position:"start",children:"$"}),type:"number"}}),Object(B.jsx)(E.h,{name:"priceSale",label:"Sale Price",placeholder:"0.00",value:0===y("priceSale")?"":y("priceSale"),onChange:function(e){return v("price",Number(e.target.value))},InputLabelProps:{shrink:!0},InputProps:{startAdornment:Object(B.jsx)(L.a,{position:"start",children:"$"}),type:"number"}})]}),Object(B.jsx)(E.g,{name:"taxes",label:"Price includes taxes"})]}),Object(B.jsx)(k.a,{type:"submit",variant:"contained",size:"large",loading:W,children:t?"Save Changes":"Create Product"})]})})]})})}function W(){var e=Object(u.a)().themeStretch,t=Object(s.d)(),n=Object(i.f)().pathname,b=Object(i.h)().name,m=Object(s.e)((function(e){return e.product})).products,p=n.includes("edit"),h=m.find((function(e){return Object(a.a)(e.name)===b}));return Object(r.useEffect)((function(){t(Object(o.k)())}),[t]),Object(B.jsx)(d.a,{title:"Ecommerce: Create a new product",children:Object(B.jsxs)(c.a,{maxWidth:!e&&"lg",children:[Object(B.jsx)(j.a,{heading:p?"Edit product":"Create a new product",links:[{name:"Dashboard",href:l.b.root},{name:"E-Commerce",href:l.b.eCommerce.root},{name:p?b:"New product"}]}),Object(B.jsx)(N,{isEdit:p,currentProduct:h})]})})}}}]);
//# sourceMappingURL=44.c991ceb5.chunk.js.map